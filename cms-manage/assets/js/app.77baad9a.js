(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},o={app:0},r=[];function s(e){return l.p+"assets/js/"+({}[e]||e)+"."+{"chunk-7fdfeef4":"5e38e3b3","chunk-c464b404":"ac0099ab","chunk-cfb78498":"0d28ba62","chunk-e4f18e56":"80febaf4"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-7fdfeef4":1,"chunk-c464b404":1,"chunk-cfb78498":1,"chunk-e4f18e56":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var n="assets/css/"+({}[e]||e)+"."+{"chunk-7fdfeef4":"1bd8fb16","chunk-c464b404":"843e07f8","chunk-cfb78498":"eedcf538","chunk-e4f18e56":"098b830a"}[e]+".css",o=l.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var c=r[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===n||u===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[e],p.parentNode.removeChild(p),a(r)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){i[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/cms-manage/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0904":function(e,t,a){"use strict";a("7495")},"0df8":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"com-group",class:{"com-group-bg-gray":e.bgGray}},[a("dl",{staticClass:"com-group-container",class:{"com-group-container-block":e.contentBlock}},[e.title||e.selectValue?a("dt",{staticClass:"com-group-header"},[a("h2",{staticClass:"com-name",class:{"com-name-black":e.nameBlack},style:{width:e.labelWidth}},[e._v(" "+e._s(e.title)+" ")]),e.selectValue?a("label",{staticClass:"com-value"},[e._v(e._s(e.selectValue))]):e._e()]):e._e(),a("dd",{staticClass:"com-content"},[e._t("default")],2)]),e.tips?a("p",{staticClass:"com-help-desc com-help-desc-tips mt-10"},[e._v(" "+e._s(e.tips)+" ")]):e._e()])},i=[],o={name:"ComGroup",props:{title:{type:String,default:""},selectValue:{type:String,default:""},tips:{type:String,default:""},contentBlock:{type:Boolean,default:!1},nameBlack:{type:Boolean,default:!1},bgGray:{type:Boolean,default:!1},labelWidth:{type:String,default:""}}},r=o,s=(a("4ea7"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"2008c375",null);t["a"]=l.exports},1:function(e,t){},"115e":function(e,t,a){"use strict";a("4d53")},"162d":function(e,t,a){},"1ad5":function(e,t,a){},"1c85":function(e,t,a){"use strict";a("5930")},"1cac":function(e,t,a){},"1cae":function(e,t,a){},2171:function(e,t,a){},"2a74":function(e,t,a){"use strict";a.r(t),t["default"]={}},"2ee3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assist-line"},[a("ComGroup",{attrs:{title:"类型"}},[a("el-radio-group",{model:{value:e.configData.type,callback:function(t){e.$set(e.configData,"type",t)},expression:"configData.type"}},[a("el-radio",{attrs:{label:1}},[e._v(" 辅助线 ")]),a("el-radio",{attrs:{label:2}},[e._v(" 辅助空白 ")])],1)],1),1===e.configData.type?a("div",[a("ComGroup",{attrs:{title:"线颜色"}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:e.configData.borderColor,callback:function(t){e.$set(e.configData,"borderColor",t)},expression:"configData.borderColor"}}),a("el-button",{attrs:{type:"text",size:"mini"}},[e._v(" 重置 ")])],1),a("ComGroup",{attrs:{title:"背景色"}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:e.configData.backgroundColor,callback:function(t){e.$set(e.configData,"backgroundColor",t)},expression:"configData.backgroundColor"}}),a("el-button",{attrs:{type:"text",size:"mini"}},[e._v(" 重置 ")])],1),a("ComGroup",{attrs:{title:"高度"}},[a("el-slider",{attrs:{max:100,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.height,callback:function(t){e.$set(e.configData,"height",t)},expression:"configData.height"}})],1),a("ComGroup",{attrs:{title:"边距"}},[a("el-radio-group",{model:{value:e.configData.paddingVisible,callback:function(t){e.$set(e.configData,"paddingVisible",t)},expression:"configData.paddingVisible"}},[a("el-radio",{attrs:{label:!1}},[e._v(" 无边距 ")]),a("el-radio",{attrs:{label:!0}},[e._v(" 有边距 ")])],1)],1),a("ComGroup",{attrs:{title:"样式"}},[a("el-radio-group",{model:{value:e.configData.borderStyle,callback:function(t){e.$set(e.configData,"borderStyle",t)},expression:"configData.borderStyle"}},[a("el-radio",{attrs:{label:"solid"}},[e._v(" 实线 ")]),a("el-radio",{attrs:{label:"dashed"}},[e._v(" 虚线 ")]),a("el-radio",{attrs:{label:"dotted"}},[e._v(" 点线 ")])],1)],1)],1):e._e(),2===e.configData.type?a("div",[a("ComGroup",{attrs:{title:"空白高度"}},[a("el-slider",{attrs:{max:100,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.height,callback:function(t){e.$set(e.configData,"height",t)},expression:"configData.height"}})],1)],1):e._e()],1)},i=[],o=(a("e9c4"),a("0df8")),r={name:"AssistLine",components:{ComGroup:o["a"]},props:{parmes:{type:Object,default:function(){return{}}}},data:function(){return{configData:JSON.parse(JSON.stringify(this.parmes))}},watch:{configData:{handler:function(e){this.$emit("editComponent",e)},deep:!0}}},s=r,l=(a("59ff"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"aacb1188",null);t["default"]=c.exports},3193:function(e,t,a){"use strict";a("e2d3")},"31a9":function(e,t,a){var n={"./styles/common.less":"2331","./styles/component.less":"5215","./styles/reset.less":"c419","./styles/sidebar.less":"9b17","./theme/alert.less":"4bc4","./theme/breadcrumb.less":"d441","./theme/button.less":"31ad","./theme/card.less":"b3d2","./theme/cascader.less":"ca55","./theme/datePicker.less":"019e","./theme/dialog.less":"6cb9","./theme/input.less":"7d40","./theme/message-box.less":"f3d2","./theme/pagination.less":"a8cd","./theme/select.less":"649a","./theme/steps.less":"7ea0","./theme/table.less":"f57b","./theme/tabs.less":"e4c7","./variable.less":"09e0"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="31a9"},"365c":function(e,t,a){"use strict";a.d(t,"d",(function(){return i}));var n=a("f121"),i="".concat(n["nodeUrl"],"/file/upload")},"371a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ComGroup",{attrs:{title:"选择模板","select-value":e.selectLayout}},[a("ComRadioGroup",{attrs:{"radio-list":e.layoutList},model:{value:e.configData.layout,callback:function(t){e.$set(e.configData,"layout",t)},expression:"configData.layout"}})],1),a("ComDivider"),a("ComGroup",{attrs:{title:"添加图片",tips:"最多添加"+e.selectLimitSize+"个广告，鼠标拖拽调整广告顺序，建议宽度750像素","name-black":!0}}),a("ComGroup",{attrs:{"bg-gray":!0,"content-block":!0}},[a("PicList",{key:e.activeIndex,attrs:{"limit-size":e.selectLimitSize,"image-list":e.configData.imageList,"show-name":!1,"show-add":!0,"input-place-holder":"建议10个字以内，可不填"},on:{"update:imageList":function(t){return e.$set(e.configData,"imageList",t)},"update:image-list":function(t){return e.$set(e.configData,"imageList",t)}}})],1),a("ComGroup",{attrs:{title:"是否设置边距"}},[a("el-radio-group",{model:{value:e.configData.isDefaultMargin,callback:function(t){e.$set(e.configData,"isDefaultMargin",t)},expression:"configData.isDefaultMargin"}},[a("el-radio",{attrs:{label:1}},[e._v(" 是 ")]),a("el-radio",{attrs:{label:0}},[e._v(" 否 ")])],1)],1),a("ComGroup",{directives:[{name:"show",rawName:"v-show",value:e.configData.isDefaultMargin,expression:"configData.isDefaultMargin"}],attrs:{title:"图片上下边距"}},[a("el-slider",{attrs:{max:30,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.marginTopBottom,callback:function(t){e.$set(e.configData,"marginTopBottom",t)},expression:"configData.marginTopBottom"}})],1),a("ComGroup",{directives:[{name:"show",rawName:"v-show",value:!!e.configData.isDefaultMargin,expression:"!!configData.isDefaultMargin"}],attrs:{title:"图片左右边距"}},[a("el-slider",{attrs:{max:30,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.marginLeftRight,callback:function(t){e.$set(e.configData,"marginLeftRight",t)},expression:"configData.marginLeftRight"}})],1),a("ComGroup",{directives:[{name:"show",rawName:"v-show",value:!!e.configData.isDefaultMargin&&"single"===e.configData.layout,expression:"!!configData.isDefaultMargin && configData.layout === 'single'"}],attrs:{title:"图片边距"}},[a("el-slider",{attrs:{max:30,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.imageMargin,callback:function(t){e.$set(e.configData,"imageMargin",t)},expression:"configData.imageMargin"}})],1),a("ComGroup",{attrs:{title:"是否设置圆角"}},[a("el-radio-group",{model:{value:e.configData.isBorderRadius,callback:function(t){e.$set(e.configData,"isBorderRadius",t)},expression:"configData.isBorderRadius"}},[a("el-radio",{attrs:{label:1}},[e._v(" 是 ")]),a("el-radio",{attrs:{label:0}},[e._v(" 否 ")])],1)],1),a("ComGroup",{directives:[{name:"show",rawName:"v-show",value:!!e.configData.isBorderRadius,expression:"!!configData.isBorderRadius"}],attrs:{title:"圆角"}},[a("el-slider",{attrs:{max:30,"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.radius,callback:function(t){e.$set(e.configData,"radius",t)},expression:"configData.radius"}})],1),a("ComGroup",{attrs:{title:"背景颜色"}},[a("el-button",{staticClass:"mr-15",attrs:{type:"text"},on:{click:function(t){e.configData.backgroundColor=e.initBgColor}}},[e._v(" 重置 ")]),a("el-color-picker",{attrs:{size:"small"},model:{value:e.configData.backgroundColor,callback:function(t){e.$set(e.configData,"backgroundColor",t)},expression:"configData.backgroundColor"}})],1)],1)},i=[],o=a("3835"),r=a("5530"),s=(a("e9c4"),a("a434"),a("7db0"),a("d3b7"),a("b0c0"),a("0df8")),l=a("d36a"),c=a("9513"),u=a("fb0c"),d=a("ed08"),p={name:"Carousel",components:{ComGroup:s["a"],ComRadioGroup:l["a"],ComDivider:c["a"],PicList:u["a"]},props:["parmes"],data:function(){return{activeIndex:-1,initBgColor:"#FFFFFF",configData:JSON.parse(JSON.stringify(this.parmes)),layoutList:[{name:"轮播广告",id:"swiper",icon:"carousel",limitSize:10},{name:"1行1个",id:"single",icon:"up2end",limitSize:10}],radioList:[{name:"否",id:0},{name:"是",id:1}]}},computed:{imageList:{get:function(){return[this.configData.imageList[this.activeIndex]]},set:function(e){this.configData.imageList.splice(this.activeIndex,1,e[0])}},selectLimitSize:function(){var e=this;return this.layoutList.find((function(t){return t.id===e.configData.layout})).limitSize},selectLayout:function(){var e=this;return this.layoutList.find((function(t){return t.id===e.configData.layout})).name},selectMarginStyle:function(){var e=this;return this.radioList.find((function(t){return t.id===e.configData.isDefaultMargin})).name},selectImageRadius:function(){var e=this;return this.radioList.find((function(t){return t.id===e.configData.isBorderRadius})).name}},watch:{configData:{handler:Object(d["c"])((function(e,t){var a=this.configData,n=a.marginTopBottom,i=a.marginLeftRight,o=[n,i];e=Object(r["a"])(Object(r["a"])({},e),{},{marginSize:o}),delete e.marginTopBottom,delete e.marginLeftRight,this.$emit("editComponent",e)})),deep:!0}},created:function(){var e=this.configData.marginSize;if(e&&e.length>=2){var t=Object(o["a"])(e,2),a=t[0],n=t[1];this.configData=Object(r["a"])(Object(r["a"])({},this.configData),{},{marginTopBottom:a,marginLeftRight:n})}}},f=p,m=a("2877"),g=Object(m["a"])(f,n,i,!1,null,null,null);t["default"]=g.exports},"3ae2":function(e,t,a){"use strict";a("8ac1")},"3bbea":function(e,t,a){"use strict";a("7c9b")},"3dff":function(e,t,a){"use strict";a("ef0a")},"42be":function(e,t,a){},"42cc":function(e,t,a){"use strict";a("e577")},"475a":function(e,t,a){"use strict";a("1cac")},"4b49":function(e,t,a){},"4c8e":function(e,t,a){"use strict";a("bfe6")},"4d53":function(e,t,a){},"4d68":function(e,t,a){"use strict";a("9414")},"4ea7":function(e,t,a){"use strict";a("2171")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r={name:"App"},s=r,l=(a("75b4"),a("2877")),c=Object(l["a"])(s,i,o,!1,null,"4ae3860c",null),u=c.exports,d=a("80d3"),p=a.n(d),f=(a("d3b7"),a("ddb0"),a("ac1f"),a("5319"),a("e9c4"),a("159b"),a("b64b"),a("a434"),a("7db0"),a("2f62")),m={pageComponentTotalMap:function(e){var t,a={},n=e.pageData.componentList||[];return n.forEach((function(e){t=e.data.component,a[t]?a[t]+=1:a[t]=1})),a}},g=Object.assign({},m),h=a("ed08"),b=a("f121"),v=a.n(b),_=new h["a"](v.a.decorateOrigin);n["default"].use(f["a"]);var C=a("c653"),D=C.keys().reduce((function(e,t){var a=t.replace(/^\.\/(.*)\.\w+$/,"$1"),n=C(t);return e[a]=n.default,e}),{});D=Object.assign({},D);var y={id:"",name:"页面标题",shareDesc:"",shareImage:"",backgroundColor:"",backgroundImage:"",backgroundPosition:"top",cover:"",componentList:[]},k=new f["a"].Store({state:{setType:1,dialogImageVisible:!1,upLoadImgSuccess:null,pageData:JSON.parse(JSON.stringify(y)),activeComponentId:null,dragActive:!1,dragComponent:{},addComponentIndex:null,previewHeight:"",componentsTopList:"",wxParams:JSON.stringify({isLogin:!0})},getters:g,mutations:{SET_INIT_PAGE_DATA:function(e){e.pageData=JSON.parse(JSON.stringify(y))},SET_SETTYPE:function(e,t){e.setType=t},SET_PAGE_CONFIG:function(e,t){Object.keys(t).forEach((function(a){e.pageData[a]=t[a]})),this.commit("VIEW_UPDATE",!0)},SET_UPIMAGE_VISIBLE:function(e,t){e.dialogImageVisible=t},SET_UPIMAGE_FUC:function(e,t){e.upLoadImgSuccess=t},SET_DRAG_STATE:function(e,t){e.dragActive=t},SET_DRAG_COMPONENT:function(e,t){e.dragComponent=t},SET_DRAG_INDEX:function(e,t){e.addComponentIndex=t},SET_ACTIVE_ID:function(e,t){e.activeComponentId=t},ADD_COMPONENT:function(e,t){var a=t.index,n=t.data,i=JSON.parse(JSON.stringify(n)),o=i.data.component+"-"+Object(h["b"])();i.id=o,i.iconClass&&delete i.iconClass,e.pageData.componentList.splice(a,0,i),this.commit("SET_ACTIVE_ID",o),this.commit("VIEW_SET_ACTIVE",o),this.commit("SET_SETTYPE",2),this.commit("SET_DRAG_INDEX",null)},DELETE_COMPONENT:function(e,t){var a=t.index;"all"===a?e.pageData.componentList=[]:"number"===typeof a&&e.pageData.componentList.splice(a,1)},EDIT_COMPONENT:function(e,t){var a=t.id,n=t.data;console.log("修改store数据",a,n);var i=e.pageData.componentList.find((function(e){return e.id===a}));i&&(i.data=n)},CHANGE_PAGEDATA:function(e,t){e.pageData=t,console.log(e.pageData)},UPDATE_COMPONENT:function(e,t){var a=t.data;console.log("PC搭建页面更新页面数据为",a),e.pageData=a||{}},UPDATE_PAGE_HEIGHT:function(e,t){var a=t.height,n=t.list;e.previewHeight=a,e.componentsTopList=n},VIEW_UPDATE:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("向H5发送更改后的数据"),console.log(e.pageData),_.emit("pageChange",{disabledRestHeight:t,value:e.pageData})},VIEW_ADD_PREVIEW:function(e,t){_.emit("setPreview",t)},VIEW_DELETE_PREVIEW:function(e){_.emit("deletePreview")},VIEW_SET_ACTIVE:function(e,t){_.emit("setActive",t)}},actions:{reLogin:function(e){window.localStorage.setItem("design-editor-cache-"+e.state.pageData.pageId,JSON.stringify(e.state.pageData.componentList)),window.location.href=window.location.origin+"/vendor/tologin"},pageChange:function(e,t){var a=e.commit;console.log(t,"changeValue");var n={add:"ADD_COMPONENT",delete:"DELETE_COMPONENT",edit:"EDIT_COMPONENT",update:"UPDATE_COMPONENT"};n[t.type]&&a(n[t.type],t),a("VIEW_UPDATE")},initMessage:function(e){var t=e.commit;_.on("pageHeightChange",(function(e){console.log("从H5更新组件高度为",e);var a=e.height?e.height+72:768,n=e.componentsTopList||[];t("UPDATE_PAGE_HEIGHT",{height:a,list:n})})),_.on("pageChange",(function(e){console.log("从H5更新组件数据为",e),t("UPDATE_COMPONENT",{data:e})})),_.on("setActive",(function(e){t("SET_ACTIVE_ID",e),t("SET_SETTYPE",2)}))}},modules:D});n["default"].store=k;var w,x,S=k,O=(a("3ca3"),a("8c4f")),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?a("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),e.isLoginModule?e._e():a("sidebar",{staticClass:"sidebar-container"}),a("div",{staticClass:"main-container",class:{hasTagsView:e.needTagsView,hideTree:e.isLoginModule}},[a("div",{class:{"fixed-header":e.fixedHeader}},[a("navbar",{attrs:{"system-name":e.systemName,"is-login-module":e.isLoginModule}},[e._t("default")],2)],1),e.showMain?a("app-main"):e._e()],1)],1)},L=[],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"app-main"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view",{key:e.key})],1)],1)},I=[],P={name:"AppMain",computed:{key:function(){return this.$route.path}}},$=P,j=(a("56e4"),a("3dff"),Object(l["a"])($,E,I,!1,null,"0a94a85f",null)),A=j.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["navbar",{"login-module":e.isLoginModule}]},[e.isLoginModule?e._e():n("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":e.sidebar.opened},on:{toggleClick:e.toggleSideBar}}),e.isLoginModule?n("div",{staticClass:"logo-wrapper"},[n("img",{staticClass:"logo",attrs:{src:a("cf05")}}),n("span",{staticClass:"system-name"},[e._v(e._s(e.systemName))])]):e._e(),e.isLoginModule?e._e():n("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),n("div",{staticClass:"right-menu"},[n("div",{staticClass:"right-menu-item"},[e._t("default")],2),e.distributorShortName?n("span",{staticClass:"right-menu-item"},[e._v(e._s(e.distributorShortName))]):e._e(),n("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",on:{"visible-change":e.toggleDropdown}},[n("div",{staticClass:"avatar-wrapper"},[n("p",{staticClass:"user-name"},[e._v(" "+e._s(e.username)+" ")]),n("i",{staticClass:"el-icon-arrow-down el-icon--right",class:e.isDropdownOpen?"open":""})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("div",{on:{click:e.logout}},[e._v("登出")])])],1)],1)],1)],1)},z=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[a("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,n){return a("el-breadcrumb-item",{key:t.path},["noRedirect"===t.redirect||n==e.levelList.length-1?a("span",{staticClass:"no-redirect"},[e._v(" "+e._s(t.meta.title))]):a("a",{on:{click:function(a){return a.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))])])})),1)],1)],1)},R=[],B=(a("2ca0"),a("4de4"),a("99af"),a("b0c0"),a("498a"),a("bd11")),G=a.n(B),F={components:{},data:function(){return{levelList:null}},watch:{$route:function(e){e.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})),t=e[0];this.isDashboard(t)||(e=[{path:"/home",meta:{title:"首页"}}].concat(e)),this.levelList=e.filter((function(e){return e.meta&&e.meta.title&&!1!==e.meta.breadcrumb}))},isDashboard:function(e){var t=e&&e.name;return!!t&&t.trim().toLocaleLowerCase()==="首页".toLocaleLowerCase()},pathCompile:function(e){var t=this.$route.params,a=G.a.compile(e);return a(t)},handleLink:function(e){var t=e.redirect,a=e.path;t?this.$router.push(t):this.$router.push(this.pathCompile(a))}}},U=F,V=(a("4d68"),Object(l["a"])(U,M,R,!1,null,"4f5b1448",null)),H=V.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"0 15px"},on:{click:e.toggleClick}},[a("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[a("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},J=[],W={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},X=W,K=(a("6cae"),Object(l["a"])(X,q,J,!1,null,"07560e0a",null)),Q=K.exports,Y={components:{Breadcrumb:H,Hamburger:Q},props:{systemName:{type:String,default:""},isLoginModule:{type:Boolean,default:!1}},data:function(){return{isDropdownOpen:!1,sidebar:{opened:!0,withoutAnimation:!1},device:"desktop",account:"12345678901",distributorShortName:null,username:localStorage.getItem("username")}},methods:{toggleSideBar:function(){this.$auth.store.dispatch("app/toggleSideBar")},toggleDropdown:function(e){this.isDropdownOpen=e},logout:function(){localStorage.removeItem("token"),window.location.href=location.origin+"/cms-manage/#/login"}}},Z=Y,ee=(a("3193"),Object(l["a"])(Z,N,z,!1,null,"1d27ae93",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"has-logo":e.showLogo}},[a("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{attrs:{"default-active":e.activeMenu,collapse:!0,"background-color":"#304156","text-color":"#bfcbd9","unique-opened":!0,"active-text-color":"#409EFF","collapse-transition":!1,mode:"vertical"}},e._l(e.permission_routes,(function(e){return a("sidebar-item",{key:e.path,attrs:{item:e,"base-path":e.path}})})),1)],1)],1)},ne=[],ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.hidden?e._e():a("div",{staticClass:"menu-wrapper"},[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?a("el-submenu",{ref:"subMenu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[a("template",{slot:"title"},[e.item.meta?a("item",{attrs:{icon:e.item.meta&&e.item.meta.icon,title:e.item.meta.title}}):e._e()],1),e._l(e.item.children,(function(t){return a("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}})}))],2):["noRedirect"!=e.item.redirect&&e.onlyOneChild.meta?a("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[a("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[e._v(" "+e._s(e.onlyOneChild.meta.title)+" ")])],1):e._e()]],2)},oe=[],re=a("5530"),se=a("df7c"),le=a.n(se),ce=a("61b3"),ue={name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var a=t.props,n=a.icon,i=a.title,o=[],r="iconfont icon-"+n;return n&&o.push(e("i",{class:r},[" "])),i&&o.push(e("span",{slot:"title"},[" ",i])),console.log(o,"context"),o}},de=ue,pe=(a("475a"),Object(l["a"])(de,w,x,!1,null,"24020777",null)),fe=pe.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("component",e._b({},"component",e.linkProps(e.to),!1),[e._t("default")],2)},ge=[],he={props:{to:{type:String,required:!0}},methods:{linkProps:function(e){return ce["a"].isExternal(e)?{is:"a",href:e,target:"_blank",rel:"noopener"}:{is:"router-link",to:e}}}},be=he,ve=Object(l["a"])(be,me,ge,!1,null,null,null),_e=ve.exports,Ce={computed:{device:function(){return this.$auth.store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var e=this,t=this.$refs.subMenu;if(t){var a=t.handleMouseleave;t.handleMouseleave=function(t){"mobile"!==e.device&&a(t)}}}}},De={name:"SidebarItem",components:{Item:fe,AppLink:_e},mixins:[Ce],props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=t.filter((function(t){return!t.hidden&&(e.onlyOneChild=t,!0)}));return 0===n.length?(this.onlyOneChild=Object(re["a"])(Object(re["a"])({},a),{},{path:"",noShowingChildren:!0}),!0):(console.log(t,"children"),!1)},resolvePath:function(e){return console.log(this.onlyOneChild,"onlyOneChild"),console.log(le.a.resolve(this.basePath,e),"routePath"),ce["a"].isExternal(e)?e:ce["a"].isExternal(this.basePath)?this.basePath:le.a.resolve(this.basePath,e)}}},ye=De,ke=(a("115e"),Object(l["a"])(ye,ie,oe,!1,null,null,null)),we=ke.exports,xe={components:{SidebarItem:we},data:function(){return{sidebar:{opened:!0,withoutAnimation:!1},permission_routes:[{path:"/",component:{name:"Vuex",components:{AppMain:{name:"AppMain",computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4b4da37d",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/AppMain/index.vue",_Ctor:{}},Navbar:{components:{Breadcrumb:{components:{},watch:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-b50ef614",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Breadcrumb/index.vue",_Ctor:{}},Hamburger:{name:"Hamburger",props:{isActive:{default:!1}},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4e6f274c",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Hamburger/index.vue",_Ctor:{}}},props:{systemName:{default:""},isLoginModule:{default:!1},loginPath:{default:"/jv-login"},pREFIX:{default:"SAAS_"}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-c735de7a",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Navbar/index.vue",_Ctor:{}},Sidebar:{components:{SidebarItem:{name:"SidebarItem",components:{Item:{name:"MenuItem",functional:!0,props:{icon:{default:""},title:{default:""}},_scopeId:"data-v-f8fde194",__file:"src/components/Sidebar/Item.vue",_Ctor:{}},AppLink:{props:{to:{required:!0}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Link.vue",_Ctor:{}}},mixins:[{computed:{},methods:{}}],props:{item:{required:!0},isNest:{default:!1},basePath:{default:""}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/SidebarItem.vue",_Ctor:{}},Logo:{name:"SidebarLogo",props:{collapse:{required:!0}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-93a96464",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Logo.vue",_Ctor:{}}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-71667e42",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/index.vue",_Ctor:{}}},mixins:[{watch:{},methods:{}}],props:{showMain:{default:!0},systemName:{default:""},isLoginModule:{default:!1}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-13877386",beforeCreate:[null],beforeDestroy:[null],__file:"src/layout/index.vue",_Ctor:{}},redirect:"/home",children:[{path:"/home",name:"首页",hidden:!0,meta:{title:"首页"}},{path:"/editPassword",name:"editPassword",hidden:!0,meta:{title:"修改密码"}}]},{path:"/login",name:"login",hidden:!0,meta:{title:"登录"}},{path:"/404",name:"404",hidden:!0,meta:{title:"404"}},{path:"/401",name:"401",hidden:!0,meta:{title:"401"}},{path:"/decorate",name:"decorate"},{path:"/preview",name:"preview"},{path:"/activity",name:"activity",component:{name:"Vuex",components:{AppMain:{name:"AppMain",computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4b4da37d",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/AppMain/index.vue",_Ctor:{}},Navbar:{components:{Breadcrumb:{components:{},watch:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-b50ef614",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Breadcrumb/index.vue",_Ctor:{}},Hamburger:{name:"Hamburger",props:{isActive:{default:!1}},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4e6f274c",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Hamburger/index.vue",_Ctor:{}}},props:{systemName:{default:""},isLoginModule:{default:!1},loginPath:{default:"/jv-login"},pREFIX:{default:"SAAS_"}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-c735de7a",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Navbar/index.vue",_Ctor:{}},Sidebar:{components:{SidebarItem:{name:"SidebarItem",components:{Item:{name:"MenuItem",functional:!0,props:{icon:{default:""},title:{default:""}},_scopeId:"data-v-f8fde194",__file:"src/components/Sidebar/Item.vue",_Ctor:{}},AppLink:{props:{to:{required:!0}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Link.vue",_Ctor:{}}},mixins:[{computed:{},methods:{}}],props:{item:{required:!0},isNest:{default:!1},basePath:{default:""}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/SidebarItem.vue",_Ctor:{}},Logo:{name:"SidebarLogo",props:{collapse:{required:!0}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-93a96464",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Logo.vue",_Ctor:{}}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-71667e42",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/index.vue",_Ctor:{}}},mixins:[{watch:{},methods:{}}],props:{showMain:{default:!0},systemName:{default:""},isLoginModule:{default:!1}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-13877386",beforeCreate:[null],beforeDestroy:[null],__file:"src/layout/index.vue",_Ctor:{}},meta:{title:"活动管理"},children:[{path:"/",hidden:!0}]},{path:"/noRedirect0",component:{name:"Vuex",components:{AppMain:{name:"AppMain",computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4b4da37d",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/AppMain/index.vue",_Ctor:{}},Navbar:{components:{Breadcrumb:{components:{},watch:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-b50ef614",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Breadcrumb/index.vue",_Ctor:{}},Hamburger:{name:"Hamburger",props:{isActive:{default:!1}},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-4e6f274c",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Hamburger/index.vue",_Ctor:{}}},props:{systemName:{default:""},isLoginModule:{default:!1},loginPath:{default:"/jv-login"},pREFIX:{default:"SAAS_"}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-c735de7a",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Navbar/index.vue",_Ctor:{}},Sidebar:{components:{SidebarItem:{name:"SidebarItem",components:{Item:{name:"MenuItem",functional:!0,props:{icon:{default:""},title:{default:""}},_scopeId:"data-v-f8fde194",__file:"src/components/Sidebar/Item.vue",_Ctor:{}},AppLink:{props:{to:{required:!0}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Link.vue",_Ctor:{}}},mixins:[{computed:{},methods:{}}],props:{item:{required:!0},isNest:{default:!1},basePath:{default:""}},methods:{},staticRenderFns:[],_compiled:!0,beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/SidebarItem.vue",_Ctor:{}},Logo:{name:"SidebarLogo",props:{collapse:{required:!0}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-93a96464",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/Logo.vue",_Ctor:{}}},computed:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-71667e42",beforeCreate:[null],beforeDestroy:[null],__file:"src/components/Sidebar/index.vue",_Ctor:{}}},mixins:[{watch:{},methods:{}}],props:{showMain:{default:!0},systemName:{default:""},isLoginModule:{default:!1}},computed:{},methods:{},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-13877386",beforeCreate:[null],beforeDestroy:[null],__file:"src/layout/index.vue",_Ctor:{}},name:"活动管理",redirect:"noRedirect",meta:{title:"活动管理",icon:""},children:[]},{path:"*",redirect:"/401",hidden:!0}]}},computed:{activeMenu:function(){var e=this.$route,t=e.meta,a=e.path;return t.activeMenu?t.activeMenu:a},showLogo:function(){return!0}}},Se=xe,Oe=(a("f2b7"),Object(l["a"])(Se,ae,ne,!1,null,"b5630300",null)),Te=Oe.exports,Le=document,Ee=Le.body,Ie=992,Pe={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&S.dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){this.$_isMobile()},methods:{$_isMobile:function(){var e=Ee.getBoundingClientRect();return e.width-1<Ie},$_resizeHandler:function(){}}},$e={name:"Vuex",components:{AppMain:A,Navbar:te,Sidebar:Te},mixins:[Pe],props:{showMain:{type:Boolean,default:!0},systemName:{type:String,default:""},isLoginModule:{type:Boolean,default:!1}},data:function(){return{settings:{},sidebar:{opened:!0,withoutAnimation:!1},device:"desktop",showSettings:!1,needTagsView:!1,fixedHeader:!1}},computed:{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}},methods:{handleClickOutside:function(){}}},je=$e,Ae=(a("0904"),Object(l["a"])(je,T,L,!1,null,"02d0058c",null));Ae.exports;O["a"].prototype.open=function(){var e,t=(e=arguments.length-1,e<0||arguments.length<=e?void 0:arguments[e]);"function"===typeof t?window.closeCallback=t:window.closeCallback&&(window.closeCallback=null);var a=this.resolve.apply(this,arguments);window.open(a.href,"_blank")},window.closeAndRefreshOpener=function(){window.opener&&window.opener.closeCallback&&window.opener.closeCallback(),window.close()};var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"activity-container"},[a("el-col",{staticClass:"nav",attrs:{span:4}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-1","unique-opened:true":"","background-color":"rgb(48, 65, 86)","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",[e._v("项目管理")])]),a("el-menu-item-group",[a("el-menu-item",{staticClass:"asideMenu-item",attrs:{index:"1-1"}},[e._v(" 页面管理 ")])],1)],2)],1)],1),a("div",{staticClass:"right"},[a("activityTable")],1)],1)},ze=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("avue-crud",{ref:"table",attrs:{"table-loading":e.loading,page:e.page,option:e.option,data:e.list,search:e.tableData},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.tableData=t},"on-load":e.load,"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.searchChange,"search-reset":e.resetChange,"row-del":e.rowDel},scopedSlots:e._u([{key:"menuLeft",fn:function(t){var n=t.size;return[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:n},on:{click:e.onAdd}},[e._v(" 新增页面 ")])]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,o=t.size;return[a("el-button",{attrs:{icon:"el-icon-edit",size:o,type:i},on:{click:function(t){return e.onEdit(n)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{icon:"el-icon-view",size:o,type:i},on:{click:function(t){return e.onPreview(n)}}},[e._v(" 预览 ")]),a("el-button",{attrs:{icon:"el-icon-cloudy",size:o,type:i},on:{click:function(t){return e.onPush(n)}}},[e._v(" "+e._s(n.is_abled?"下线":"上线")+" ")])]}}])},[a("template",{slot:"searchMenu"},[a("span",{staticStyle:{"margin-left":"10px"}},[e._v("您好~"+e._s(e.userInfo.userName))]),a("el-button",{staticClass:"loginout",on:{click:e.loginOut}},[e._v(" 退出 ")])],1)],2)],1)},Re=[],Be=a("1da1"),Ge=(a("96cf"),a("3997")),Fe=a("9e2a"),Ue={columnBtn:!1,refreshBtn:!1,editBtn:!1,border:!0,searchShowBtn:!1,menuWidth:280,stripe:!0,searchSpan:6,addBtn:!1,align:"center",searchMenuSpan:12,column:[{label:"页面ID",prop:"id"},{label:"页面标题",searchLabelWidth:110,searchSpan:6,prop:"name",search:!0,searchRules:[{required:!0,message:"请输入页面标题",trigger:"blur"}]},{label:"页面状态码",prop:"isAbled",hide:!0},{label:"页面状态",searchLabelWidth:110,searchSpan:6,prop:"status",type:"select",search:!0,dicData:[{label:"已上线",value:1},{label:"未上线",value:0}]},{label:"创建时间",prop:"create_time"},{label:"更新时间",prop:"update_time"}]},Ve={name:"ActivityTable",data:function(){return{userInfo:{userName:""},tableData:{},page:{total:0,currentPage:1,pageSize:10,layout:"total, sizes, prev, pager, next"},loading:!1,list:[]}},computed:{option:function(){return Ue}},created:function(){this.userInfo.userName=localStorage.getItem("username")},methods:{load:function(){this.getTableData(this.page.currentPage,this.page.pageSize)},loginOut:function(){this.$router.push("/"),localStorage.removeItem("username"),localStorage.removeItem("token")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},getTableData:function(e){var t=this;return Object(Be["a"])(regeneratorRuntime.mark((function a(){var n,i,o,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=Object.assign({},e),a.prev=1,i=Object.assign({},n),i.pageNum=t.page.currentPage,i.pageSize=t.page.pageSize,a.next=7,Object(Fe["c"])(i);case 7:o=a.sent,r=o.data,s=r.list,l=r.total,t.page.total=l,t.list=s||[],Object(Ge["a"])(s,(function(e){e.isAbled=e.is_abled,e.status=e.is_abled?"已上线":"未上线"})),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](1),t.$message.warning("获取失败: ".concat(a.t0.message),"warning");case 17:case"end":return a.stop()}}),a,null,[[1,14]])})))()},searchChange:function(e,t){var a=this;return Object(Be["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.is_abled=e.status,n.next=3,a.getTableData(e);case 3:e.status&&(i=[],a.list.forEach((function(t){t.is_abled===e.status&&i.push(t)})),a.list=i),t();case 5:case"end":return n.stop()}}),n)})))()},resetChange:function(){this.getTableData(this.page.currentPage,this.page.pageSize)},onEdit:function(e){var t=e.id;this.$router.open({path:"/decorate",query:{id:t}})},onPush:function(e){0===e.is_abled?this.online(e,1):this.offline(e,0)},offline:function(e,t){var a=this;this.$alert("是否确定下线活动【".concat(e.name,"】?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then((function(){Object(Fe["f"])({id:e.id,isAbled:t}).then((function(){a.$message.success("下线成功"),a.$refs.table.refreshTable(),a.resetChange()})).catch((function(e){a.$message.warning("操作失败: ".concat(e.message),"warning")}))})).catch((function(){}))},online:function(e,t){var a=this;this.$set(e,"loading",!0),Object(Fe["f"])({id:e.id,isAbled:t}).then((function(){a.$message.success("上线成功"),a.$refs.table.refreshTable(),a.resetChange()})).catch((function(e){a.$message.warning("操作失败: ".concat(e.message),"warning")})).finally((function(){a.$set(e,"loading",!1)}))},rowDel:function(e){var t=this,a=e.id;Object(Fe["a"])({id:a}).then((function(){t.$message.success("删除成功"),t.$refs.table.onRefresh(!0)})).catch((function(e){t.$message.warning("删除失败：".concat(e.message),"warning")}))},onAdd:function(){console.log("新增页面"),this.$store.commit("SET_INIT_PAGE_DATA"),this.$router.push({path:"/decorate"})},onPreview:function(e){var t=e.id,a=this.$router.resolve({path:"/preview",query:{id:t,data:this.$store.state.wxParams}});window.open(a.href,"_blank")}}},He=Ve,qe=(a("e8f0"),Object(l["a"])(He,Me,Re,!1,null,"1974e52b",null)),Je=qe.exports,We={components:{activityTable:Je}},Xe=We,Ke=(a("3ae2"),Object(l["a"])(Xe,Ne,ze,!1,null,"f0115816",null)),Qe=Ke.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-bg login-container",staticStyle:{height:"100vh"}},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v(" LowCode平台管理系统 ")])]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v(" 登录 ")])],1)],1)},Ze=[],et={data:function(){var e=function(e,t,a){t?a():a(new Error("请输入用户名"))},t=function(e,t,a){t.length<6?a(new Error("请输入密码")):a()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},passwordType:"password",capsTooltip:!1,loading:!1}},methods:{checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0,Object(Fe["d"])(e.loginForm).then((function(t){e.loading=!1,localStorage.setItem("token",t.data.token),localStorage.setItem("username",t.data.username),e.$router.replace("/home")})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},tt=et,at=(a("820b"),Object(l["a"])(tt,Ye,Ze,!1,null,"68e005e4",null)),nt=at.exports,it=[{path:"/",component:nt,name:"Login"},{path:"/404",component:function(){return a.e("chunk-cfb78498").then(a.bind(null,"d1bd"))},name:"404",hidden:!0,meta:{title:"404"}},{path:"/401",component:function(){return a.e("chunk-e4f18e56").then(a.bind(null,"0a6a"))},name:"401",hidden:!0,meta:{title:"401"}},{path:"/decorate",name:"decorate",component:function(){return a.e("chunk-7fdfeef4").then(a.bind(null,"a589"))}},{path:"/preview",name:"preview",component:function(){return a.e("chunk-c464b404").then(a.bind(null,"5ad3"))}},{path:"/home",name:"activity",component:Qe}],ot=function(){return new O["a"]({scrollBehavior:function(){return{y:0}},routes:it})},rt=ot();n["default"].router=rt;var st=rt,lt=(a("1cae"),a("953d")),ct=a.n(lt),ut=(a("a753"),a("8096"),a("14e1"),a("0fae"),a("a3f4")),dt=a("65c4"),pt=a("5c96"),ft=a.n(pt);n["default"].config.productionTip=!1,n["default"].use(O["a"]),n["default"].use(ct.a),n["default"].use(p.a),n["default"].use(ft.a),n["default"].use(ut["a"]),n["default"].use(dt["a"]),new n["default"]({el:"#app",router:st,store:S,render:function(e){return e(u)}})},"56e4":function(e,t,a){"use strict";a("1ad5")},"58c4":function(e,t,a){},5930:function(e,t,a){},"59ff":function(e,t,a){"use strict";a("4b49")},6005:function(e,t,a){},6530:function(e,t,a){},"6cae":function(e,t,a){"use strict";a("872d")},"73c8":function(e,t,a){},7495:function(e,t,a){},"75b4":function(e,t,a){"use strict";a("9ea9")},7686:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ComGroup",{attrs:{title:"背景色"}},[a("el-button",{staticClass:"mr-15",attrs:{type:"text"},on:{click:function(t){e.configData.backgroundColor=e.initBgColor}}},[e._v(" 重置 ")]),a("el-color-picker",{attrs:{size:"small"},model:{value:e.configData.backgroundColor,callback:function(t){e.$set(e.configData,"backgroundColor",t)},expression:"configData.backgroundColor"}})],1),a("ComGroup",{attrs:{title:"内容","content-block":!0}},[a("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},model:{value:e.configData.content,callback:function(t){e.$set(e.configData,"content",t)},expression:"configData.content"}}),a("Uploader",{ref:"quillUploader",staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"list-type":"picture","max-size":e.upload.maxSize,limit:e.upload.limit,"on-change":e.onChangeQuill}})],1)],1)},i=[],o=(a("e9c4"),a("0df8")),r={name:"RichText",components:{ComGroup:o["a"]},props:["parmes"],data:function(){return{configData:JSON.parse(JSON.stringify(this.parmes)),initBgColor:"",editorOption:{placeholder:"",modules:{toolbar:{container:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],["clean"],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],[{color:[]},{background:[]}],["image"]],handlers:{image:function(e){e?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}},upload:{maxSize:1,limit:99}}},watch:{configData:{handler:function(e,t){console.log("文本修改",e),this.$emit("editComponent",e)},deep:!0}},methods:{onChangeQuill:function(e,t){if("finished"===e.status){var a=this.$refs.myTextEditor.quill,n=a.getSelection().index,i=e.response.data;a.insertEmbed(n,"image",i),a.setSelection(n+1)}}}},s=r,l=(a("4c8e"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"48256014",null);t["default"]=c.exports},"7c9b":function(e,t,a){},"7cc6":function(e,t,a){"use strict";a("42be")},"7fa2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ComGroup",{attrs:{title:"兑换价颜色"}},[a("el-color-picker",{attrs:{size:"small"},model:{value:e.configData.exchangePriceColor,callback:function(t){e.$set(e.configData,"exchangePriceColor",t)},expression:"configData.exchangePriceColor"}}),a("el-button",{staticClass:"mr-15",attrs:{type:"text"},on:{click:function(t){e.configData.exchangePriceColor=e.initTxtColor}}},[e._v(" 重置 ")])],1),a("ComGroup",{attrs:{title:"添加商品"}}),a("ComGroup",{attrs:{"content-block":!0}},[a("div",{staticClass:"up-pic-img-box"},[a("draggable",{attrs:{options:{animation:300,handle:".up-pic-img",forceFallback:!0,fallbackTolerance:1}},model:{value:e.configData.productList,callback:function(t){e.$set(e.configData,"productList",t)},expression:"configData.productList"}},e._l(e.configData.productList,(function(t,n){return a("div",{key:n,staticClass:"up-pic-img"},[a("div",{staticClass:"productname"},[e._v(" "+e._s(t.jvName)+" ")]),a("i",{staticClass:"up-pic-item-delete el-icon-error",attrs:{title:"删除该项"},on:{click:function(t){return e.deleteProduct(n)}}})])})),0),a("UpLoadBox",{attrs:{"add-place-holder":"","upload-file":!1},on:{editImg:function(t){e.dialogProductVisible=!0}}})],1)]),a("ComGroup",{attrs:{title:"列表样式","content-block":!0,"select-value":e.selectStyle.name}},[a("ComRadioGroup",{attrs:{"radio-list":e.styleList,"content-block":!0},model:{value:e.configData.listStyle,callback:function(t){e.$set(e.configData,"listStyle",t)},expression:"configData.listStyle"}})],1),a("ComGroup",{attrs:{title:"是否显示划线价"}},[a("el-radio",{attrs:{label:0},model:{value:e.configData.markingPrice,callback:function(t){e.$set(e.configData,"markingPrice",t)},expression:"configData.markingPrice"}},[e._v(" 否 ")]),a("el-radio",{attrs:{label:1},model:{value:e.configData.markingPrice,callback:function(t){e.$set(e.configData,"markingPrice",t)},expression:"configData.markingPrice"}},[e._v(" 是 ")])],1),a("ComGroup",{attrs:{title:"是否显示购买图标"}},[a("el-radio",{attrs:{label:0},model:{value:e.configData.purchase,callback:function(t){e.$set(e.configData,"purchase",t)},expression:"configData.purchase"}},[e._v(" 否 ")]),a("el-radio",{attrs:{label:1},model:{value:e.configData.purchase,callback:function(t){e.$set(e.configData,"purchase",t)},expression:"configData.purchase"}},[e._v(" 是 ")])],1),a("DialogProduct",{attrs:{"dialog-visible":e.dialogProductVisible,"select-type":"multi"},on:{"update:dialogVisible":function(t){e.dialogProductVisible=t},"update:dialog-visible":function(t){e.dialogProductVisible=t},selectSure:e.selectProduct}})],1)},i=[],o=a("2909"),r=(a("e9c4"),a("7db0"),a("d3b7"),a("a434"),a("b76a")),s=a.n(r),l=a("0df8"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"商品",visible:e._dialogVisible,width:"830px"},on:{"update:visible":function(t){e._dialogVisible=t}}},[a("div",{staticClass:"table-search"},[a("div",{staticClass:"search-form"},[a("el-input",{attrs:{size:"small"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getList},slot:"append"})],1)],1),a("div",{staticClass:"search-btn"},[a("el-button",{attrs:{size:"small"},on:{click:e.getList}},[e._v(" 刷新 ")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-table",staticStyle:{width:"100%"},attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},["multi"===e.selectType?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{label:"商品编码",prop:"jvCode"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"jvName"}}),a("el-table-column",{attrs:{label:"品牌",prop:"brand"}})],1),a("div",{staticClass:"table-page"},[a("el-pagination",{attrs:{background:"","current-page":e.nowPage,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.pageChange}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.selectSure}},[e._v(" 确 定 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e._dialogVisible=!1}}},[e._v(" 取 消 ")])],1)],1)},u=[],d=a("365c"),p={name:"DialogProduct",props:{dialogVisible:{type:Boolean,default:!1},selectType:{type:String,default:"single"}},data:function(){return{loading:!1,searchValue:"",nowPage:1,total:0,list:[],checkedId:"",multipleSelection:[]}},computed:{_dialogVisible:{get:function(){return this.dialogVisible},set:function(e){this.$emit("update:dialogVisible",e)}}},watch:{dialogVisible:function(e,t){e&&(this.list=[],this.nowPage=1,this.getList())}},mounted:function(){},methods:{pageChange:function(e){this.nowPage=e,this.getList()},getList:function(){var e=this,t={jvStatus:1,name:this.searchValue,pageNum:this.nowPage,pageSize:10,skuType:0,status:1};this.loading=!0,Object(d["fetchProduct"])(t).then((function(t){e.loading=!1,e.list=t.list,e.total=t.total}))},handleSelectionChange:function(e){this.multipleSelection=e},selectSure:function(){var e=this;if("single"===this.selectType){if(!this.checkedId)return void this.$message.error("请选择一个选项");var t=this.list.find((function(t){return t.id===e.checkedId}));this.$emit("selectSure",t)}else{if(0===this.multipleSelection.length)return void this.$message.error("请至少选择一个选项");this.$emit("selectSure",this.multipleSelection)}this._dialogVisible=!1}}},f=p,m=(a("42cc"),a("2877")),g=Object(m["a"])(f,c,u,!1,null,"23c05e32",null),h=g.exports,b=a("81ef"),v=a("d36a"),_={name:"Product",components:{draggable:s.a,ComGroup:l["a"],DialogProduct:h,UpLoadBox:b["a"],ComRadioGroup:v["a"]},props:["parmes"],data:function(){return{configData:JSON.parse(JSON.stringify(this.parmes)),initTxtColor:"#F5514B",dialogProductVisible:!1,styleList:[{name:"一行一个",id:"oneLineOne",icon:"cuberow"},{name:"一行两个",id:"oneLineTwo",icon:"cuberow"},{name:"详细列表",id:"listDetail",icon:"cubeto",equalScale:!0}]}},computed:{selectStyle:function(){var e=this;return this.styleList.find((function(t){return t.id===e.configData.listStyle}))}},watch:{configData:{handler:function(e,t){this.$emit("editComponent",e)},deep:!0}},methods:{selectProduct:function(e){var t;(t=this.configData.productList).push.apply(t,Object(o["a"])(e))},deleteProduct:function(e){this.configData.productList.splice(e,1)}}},C=_,D=(a("88fe"),Object(m["a"])(C,n,i,!1,null,"2a0ab5ae",null));t["default"]=D.exports},"81ef":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"up-pic-box"},[e.uploading?[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.uploading,expression:"uploading"}],attrs:{"element-loading-text":"上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.3)"}})]:[e.url?[a("img",{attrs:{src:e.url}}),a("p",{staticClass:"pic-tips",on:{click:e.editImg}},[e._v(" 更换图片 ")])]:[a("div",{staticClass:"not-pic",on:{click:e.editImg}},[a("i",{staticClass:"el-icon-plus"}),a("p",[e._v(" "+e._s(e.addPlaceHolder)+" ")])])]],a("el-upload",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload",attrs:{headers:e.headers,action:e.actionUrl,multiple:!1,"list-type":"picture","show-file-list":!1,"on-success":e.doSuccess,"on-error":e.doError,"before-upload":e.beforeAvatarUpload}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploading}},[e._v(" + 上传图片 ")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],2)},i=[],o=a("365c"),r={name:"UploadBox",props:{imgUrl:{type:String,default:""},addPlaceHolder:{type:String,default:"添加图片"},uploadFile:{type:Boolean,default:!0}},data:function(){return{url:null,actionUrl:o["d"],uploading:!1,headers:{"X-token":localStorage.getItem("token")}}},watch:{imgUrl:{handler:function(){this.url=this.imgUrl},immediate:!0}},methods:{editImg:function(){console.log(this.uploadFile,111),this.uploadFile?this.$refs.upload.$el.querySelector("button").click():this.$emit("editImg")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传图片大小不能超过 500kb!"),!(!t||!a)&&(this.uploading=!0,!0)},doSuccess:function(e,t,a){this.uploading=!1,this.$emit("update:imgUrl",e.data)},doError:function(){this.$message.error("上传失败，请稍后重试"),this.uploading=!1}}},s=r,l=(a("cdc1"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"498f9db4",null);t["a"]=c.exports},"820b":function(e,t,a){"use strict";a("ae6f")},"872d":function(e,t,a){},"88fe":function(e,t,a){"use strict";a("162d")},"8ac1":function(e,t,a){},9414:function(e,t,a){},9513:function(e,t,a){"use strict";var n=function(e,t){var a=t._c;return a("div",{staticClass:"com-divider"})},i=[],o=(a("dc77"),a("2877")),r={},s=Object(o["a"])(r,n,i,!0,null,"c43b6866",null);t["a"]=s.exports},"96ea":function(e,t,a){"use strict";a("6530")},"9e2a":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c}));a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("9861");var n=a("b775");function i(e){return n["a"].get("/atlas-cms/getPageList?"+new URLSearchParams(e).toString())}function o(e){return e.id?n["a"].post("/atlas-cms/updateCmsJson",e):n["a"].post("/atlas-cms/addPageJson",e)}function r(e){return n["a"].get("/atlas-cms/getPageJson",{params:{id:e}})}function s(e){return n["a"].post("/atlas-cms/updatePageStatus",e)}function l(e){return n["a"].post("/atlas-cms/deletePage",e)}function c(e){return n["a"].post("/atlas-cms/login",e)}},"9ea9":function(e,t,a){},"9ecf":function(e,t,a){},a966:function(e,t,a){"use strict";a("f368")},ae6f:function(e,t,a){},b775:function(e,t,a){"use strict";a("d3b7");var n=a("bc3a"),i=a.n(n),o=a("f121"),r=a("5c96"),s=i.a.create({baseURL:o["baseURL"],timeout:2e4});s.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["X-token"]=t),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){var t=e.data;return console.log(t,"res"),1e4!==t.code&&r["Message"].error(t.message),-2===t.code&&(localStorage.removeItem("token"),window.location.href=location.origin+"/login"),t}),(function(e){return console.log("err"+e),Object(r["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=s},bdeb:function(e,t,a){"use strict";a("e1c0")},bec4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ComGroup",{attrs:{title:"添加视频"}}),a("ComGroup",{attrs:{"content-block":!0}},[a("el-upload",{staticClass:"upload-demo",attrs:{headers:e.headers,action:e.actionUrl,limit:2,"file-list":e.configData.videoList,"on-success":e.doSuccess,"on-remove":e.doRemove}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 点击上传 ")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传mp4文件，且不超过500kb ")])],1)],1),a("ComGroup",{directives:[{name:"show",rawName:"v-show",value:e.uploadFileTag,expression:"uploadFileTag"}],attrs:{title:"是否自动播放视频"}},[a("el-radio",{attrs:{label:0},model:{value:e.configData.isAutoPlay,callback:function(t){e.$set(e.configData,"isAutoPlay",t)},expression:"configData.isAutoPlay"}},[e._v(" 否 ")]),a("el-radio",{attrs:{label:1},model:{value:e.configData.isAutoPlay,callback:function(t){e.$set(e.configData,"isAutoPlay",t)},expression:"configData.isAutoPlay"}},[e._v(" 是 ")])],1)],1)},i=[],o=a("5530"),r=(a("e9c4"),a("c740"),a("2f62")),s=a("0df8"),l=a("365c"),c={name:"Video",components:{ComGroup:s["a"]},props:{parmes:{type:Object,default:function(){return{}}}},data:function(){return{actionUrl:l["d"],configData:JSON.parse(JSON.stringify(this.parmes)),headers:{"X-token":localStorage.getItem("token")},fileList:[],uploadFileTag:!1}},computed:Object(o["a"])({},Object(r["d"])(["pageData","activeComponentId"])),watch:{configData:{handler:function(e){console.log(e);var t=this.pageData.componentList.findIndex((function(e){return"Video"===e.data.component}));this.pageData.componentList[t].data.isAutoPlay=e.isAutoPlay,this.CHANGE_PAGEDATA(this.pageData),this.VIEW_UPDATE()},deep:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(r["c"])(["VIEW_UPDATE","CHANGE_PAGEDATA"])),{},{doSuccess:function(e){console.log(e),console.log(this.pageData.componentList),console.log(this.pageData.componentList.findIndex((function(e){return"Video"===e.data.component})));var t=this.pageData.componentList.findIndex((function(e){return"Video"===e.data.component}));this.pageData.componentList[t].data.videoUrl=e.data,this.CHANGE_PAGEDATA(this.pageData),this.VIEW_UPDATE(),this.uploadFileTag=!0},doRemove:function(){var e=this.pageData.componentList.findIndex((function(e){return"Video"===e.data.component}));this.pageData.componentList[e].data.videoUrl="",this.VIEW_UPDATE(),this.uploadFileTag=!1}})},u=c,d=(a("a966"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"193ab9f0",null);t["default"]=p.exports},bfe6:function(e,t,a){},c653:function(e,t,a){var n={"./index.js":"2a74"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="c653"},c883:function(e,t,a){"use strict";a("58c4")},cc1d:function(e,t,a){"use strict";a("73c8")},cdc1:function(e,t,a){"use strict";a("6005")},cf05:function(e,t,a){e.exports=a.p+"assets/img/logo.13971497.png"},d36a:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"com-radio-group",class:{"com-radio-group-block":e.contentBlock}},e._l(e.radioList,(function(t){return a("span",{key:t.id,staticClass:"com-radio-button",class:{active:e.value==t.id},on:{click:function(a){return e.setValue(t.id)}}},[t.icon?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.name,placement:"bottom"}},[a("button",{staticClass:"button",attrs:{type:"button"}},[a("i",{class:"deco-icon-"+t.icon})])]):a("button",{staticClass:"button",attrs:{type:"button"}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)},i=[],o=(a("a9e3"),{name:"ComRadioGroup",props:{radioList:{type:Array,required:!0},contentBlock:Boolean,value:{type:[String,Number],default:null}},methods:{setValue:function(e){this.$emit("input",e)}}}),r=o,s=(a("bdeb"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"1a946b92",null);t["a"]=l.exports},d3e8:function(e,t){},dc77:function(e,t,a){"use strict";a("fe6f")},e1c0:function(e,t,a){},e1cb:function(e,t,a){},e2d3:function(e,t,a){},e577:function(e,t,a){},e598:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ComGroup",{attrs:{title:"选择模板","select-value":e.selectLayout.name}},[a("ComRadioGroup",{attrs:{"radio-list":e.layoutList},model:{value:e.configData.layout,callback:function(t){e.$set(e.configData,"layout",t)},expression:"configData.layout"}})],1),a("ComDivider"),a("ComGroup",{attrs:{title:"圆角"}},[a("el-slider",{attrs:{"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.borderRadius,callback:function(t){e.$set(e.configData,"borderRadius",t)},expression:"configData.borderRadius"}})],1),a("ComGroup",{attrs:{title:"边距设置"}},[a("el-radio",{attrs:{label:!0},model:{value:e.paddingDefault,callback:function(t){e.paddingDefault=t},expression:"paddingDefault"}},[e._v(" 默认 ")]),a("el-radio",{attrs:{label:!1},model:{value:e.paddingDefault,callback:function(t){e.paddingDefault=t},expression:"paddingDefault"}},[e._v(" 自定义 ")])],1),e.paddingDefault?e._e():a("div",[a("ComGroup",{attrs:{title:"上下边距"}},[a("el-slider",{attrs:{"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.columnPadding,callback:function(t){e.$set(e.configData,"columnPadding",t)},expression:"configData.columnPadding"}})],1),a("ComGroup",{attrs:{title:"左右边距"}},[a("el-slider",{attrs:{"show-input":"","show-input-controls":!1,"input-size":"mini"},model:{value:e.configData.rowPadding,callback:function(t){e.$set(e.configData,"rowPadding",t)},expression:"configData.rowPadding"}})],1)],1),a("ComGroup",{attrs:{title:"单行个数"}},[a("el-slider",{attrs:{"show-input":"","show-input-controls":!1,"input-size":"mini",max:8,min:1},model:{value:e.configData.lineNumber,callback:function(t){e.$set(e.configData,"lineNumber",t)},expression:"configData.lineNumber"}})],1),a("ComGroup",{attrs:{title:"添加导航",tips:"最多添加 10 个导航，拖动选中的导航可对其排序","name-black":!0}}),a("ComGroup",{attrs:{"content-block":!0}},[a("PicList",{attrs:{"image-list":e.configData.imageList,"add-place-holder":"添加图文导航","show-pic":"pic"===e.selectLayout.id},on:{"update:imageList":function(t){return e.$set(e.configData,"imageList",t)},"update:image-list":function(t){return e.$set(e.configData,"imageList",t)}}})],1),a("ComGroup",{attrs:{title:"背景颜色"}},[a("el-button",{staticClass:"mr-15",attrs:{type:"text"},on:{click:function(t){e.configData.backgroundColor=e.initBgColor}}},[e._v(" 重置 ")]),a("el-color-picker",{attrs:{size:"small"},model:{value:e.configData.backgroundColor,callback:function(t){e.$set(e.configData,"backgroundColor",t)},expression:"configData.backgroundColor"}})],1),a("ComGroup",{attrs:{title:"文字颜色"}},[a("el-button",{staticClass:"mr-15",attrs:{type:"text"},on:{click:function(t){e.configData.textColor=e.initTxtColor}}},[e._v(" 重置 ")]),a("el-color-picker",{attrs:{size:"small"},model:{value:e.configData.textColor,callback:function(t){e.$set(e.configData,"textColor",t)},expression:"configData.textColor"}})],1)],1)},i=[],o=(a("e9c4"),a("7db0"),a("d3b7"),a("0df8")),r=a("d36a"),s=a("9513"),l=a("fb0c"),c={name:"Navigation",components:{ComGroup:o["a"],ComRadioGroup:r["a"],ComDivider:s["a"],PicList:l["a"]},props:["parmes"],data:function(){return{configData:JSON.parse(JSON.stringify(this.parmes)),initBgColor:"#FFFFFF",initTxtColor:"#323233",layoutList:[{name:"图片导航",id:"pic",icon:"up2end"}],paddingDefault:!0}},computed:{selectLayout:function(){var e=this;return this.layoutList.find((function(t){return t.id===e.configData.layout}))}},watch:{configData:{handler:function(e,t){console.log("图文导航配置修改",e),this.$emit("editComponent",e)},deep:!0}}},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},e8f0:function(e,t,a){"use strict";a("9ecf")},ed08:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a("d4ec"),i=a("bee2");a("d81d"),a("d3b7"),a("ddb0"),a("ac1f"),a("1276"),a("25f0"),a("a9e3");function o(){var e={},t=a("ffc1");return t.keys().map((function(a){var n=a.split("/")[1];e[n]=t(a).default})),e}var r=function(){function e(t){var a=this;Object(n["a"])(this,e),this.targetOrigin=t,this.actions={},this.messageListener=function(e){var t=e.data&&e.data.type;e.origin===a.targetOrigin&&t&&a.actions[t]&&a.actions[t](e.data.value)},window.addEventListener("message",this.messageListener)}return Object(i["a"])(e,[{key:"on",value:function(e,t){return this.actions[e]=t,this}},{key:"emit",value:function(e,t){var a=document.getElementById("previewIframe").contentWindow;return a.postMessage({type:e,value:t},this.targetOrigin),this}},{key:"destroy",value:function(){window.removeEventListener("message",this.messageListener)}}]),e}();function s(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;return function(){var i=this,o=arguments;if(n)return e.apply(i,o),void(n=!1);t&&clearTimeout(t),t=setTimeout((function(){e.apply(i,o)}),a)}}function l(){return Number(Math.random().toString().substr(3,5)+Date.now()).toString(36)}},ef0a:function(e,t,a){},f121:function(e,t,a){var n=window.location.origin,i=window.location.origin;e.exports={baseURL:i,jvBaseUrl:i+"/api",decorateOrigin:n,decorateViewSrc:n+"/crs/#/page",previewSrc:n+"/crs/#/pagePreiview",nodeUrl:"http://82.157.247.15:3300/atlas-cms"}},f2b7:function(e,t,a){"use strict";a("e1cb")},f368:function(e,t,a){},f378:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ComGroup",{attrs:{title:"文案","label-width":"56px"}},[a("el-input",{attrs:{disabled:!0,size:"mini",placeholder:"文字建议4个字"},model:{value:e.configData.text,callback:function(t){e.$set(e.configData,"text",t)},expression:"configData.text"}})],1)},i=[],o=(a("e9c4"),a("0df8")),r={name:"OnlineService",components:{ComGroup:o["a"]},props:{parmes:{type:Object,default:function(){return{}}}},data:function(){return{configData:JSON.parse(JSON.stringify(this.parmes))}},watch:{configData:{handler:function(e){this.$emit("editComponent",e)},deep:!0}}},s=r,l=(a("1c85"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"83398306",null);t["default"]=c.exports},fb0c:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("draggable",{attrs:{options:{animation:300,handle:".up-pic-item",disabled:e.unGraggable||e.picData.length<2,forceFallback:!0,fallbackTolerance:1}},model:{value:e.picData,callback:function(t){e.picData=t},expression:"picData"}},e._l(e.picData,(function(t,n){return a("div",{key:n,staticClass:"up-pic-item",class:{"can-drag":!e.unGraggable&&e.picData.length>1}},[a("div",{staticClass:"up-pic-item-wrapper"},[e.showPic?a("UpLoadBox",{attrs:{"img-url":t.imageUrl},on:{"update:imgUrl":function(a){return e.$set(t,"imageUrl",a)},"update:img-url":function(a){return e.$set(t,"imageUrl",a)},editImg:function(a){return e.editPic(t)}}}):e._e(),a("div",{staticClass:"info"},[e.showName?a("dl",{staticClass:"com-form-group"},[a("dt",{staticClass:"form-label"},[e._v(" 标题 ")]),a("dd",{staticClass:"form-container"},[a("el-input",{staticClass:"input-name",attrs:{placeholder:e.inputPlaceHolder},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item.text"}})],1)]):e._e(),a("dl",{staticClass:"com-form-group"},[a("dt",{staticClass:"form-label"},[e._v(" 链接 ")]),a("dd",{staticClass:"form-container"},[a("ConfigLink",{attrs:{"link-obj":t.link},on:{"update:linkObj":function(a){return e.$set(t,"link",a)},"update:link-obj":function(a){return e.$set(t,"link",a)}}})],1)])])],1),e.showDelete?a("div",{staticClass:"up-pic-item-delete el-icon-error",attrs:{title:"删除该项"},on:{click:function(t){return e.deleteItem(n)}}}):e._e()])})),0),e.showAdd?a("ButtonAdd",{attrs:{"add-text":e.addPlaceHolder},on:{click:e.addItem}}):e._e()],1)},i=[],o=(a("a9e3"),a("e9c4"),a("a434"),a("b76a")),r=a.n(o),s=a("81ef"),l=function(e,t){var a=t._c;return a("div",t._g({staticClass:"up-pic-add"},t.listeners),[a("i",{staticClass:"el-icon-plus"}),t._v(" "+t._s(t.props.addText)+" ")])},c=[],u=(a("c883"),a("2877")),d={},p=Object(u["a"])(d,l,c,!0,null,"1839b31a",null),f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-link"},[e.linkText?a("div",{staticClass:"cl-link-box",on:{click:e.openDialog}},[a("span",{staticClass:"cll-text"},[a("span",{staticClass:"cllt-name",attrs:{title:e.linkText},domProps:{textContent:e._s(e.linkText)}}),a("i",{staticClass:"el-icon-close cllt-icon",on:{click:function(t){return t.stopPropagation(),e.onRemoveData.apply(null,arguments)}}})]),a("a",{staticClass:"cll-btn"},[e._v("修改")])]):a("span",{staticClass:"link",on:{click:e.openDialog}},[e._v("添加跳转链接")]),a("el-dialog",{staticClass:"cl-dialog-layout",attrs:{title:"添加跳转链接","append-to-body":"","close-on-click-modal":!1,"custom-class":"config-link-dialog",visible:e.dialogVisible,width:"710px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.onclose,open:e.onDialogOpen}},[e.tabVisible?a("el-tabs",{on:{"tab-click":e.onTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabConfig,(function(t){return[a("el-tab-pane",{key:t.clickType,attrs:{label:t.label,name:t.clickType.toString()}},[t.init?a(t.component,{tag:"component",attrs:{visible:t.clickType.toString()===e.activeName,columns:t.columns,url:t.url,query:t.query,"form-config":t.formConfig,"init-data":e.currentData.data,"click-type":t.clickType},on:{onChange:function(a){e.onChange(a,t.clickType)}}}):e._e()],1)]}))],2):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onConfirm}},[e._v("确 定")])],1)],1)],1)},g=[],h=a("5530"),b=a("2909"),v=(a("b64b"),a("4de4"),a("d3b7"),a("25f0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"com-table"},[a("json-form",{attrs:{data:e.formConfig},on:{onSearch:e.onSearch,onReset:e.onReset}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{border:"",size:"mini",data:e.tableData,"max-height":e.maxHeight}},[e._l(e.columns,(function(e){return[a("el-table-column",{key:e.key,attrs:{prop:e.key,label:e.label,width:e.width,"min-width":e.minWidth,formatter:e.formatter}})]})),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"65px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.disabledRow(t.row)?a("el-button",{attrs:{type:"text",disabled:!0,size:"mini"},on:{click:function(a){return e.onSelect(t.row)}}},[e._v(" 已选择 ")]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.onSelect(t.row)}}},[e._v(" 选择 ")])]}}])})],2),a("div",{staticClass:"pager-area"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, sizes","page-size":e.page.pageSize,"page-sizes":[10,30,50,100],total:e.total,"current-page":e.page.pageNum},on:{"update:pageSize":function(t){return e.$set(e.page,"pageSize",t)},"update:page-size":function(t){return e.$set(e.page,"pageSize",t)},"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)}),_=[],C=a("b775"),D=C["a"],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("el-form",{ref:"formRef",staticClass:"json-form",attrs:{inline:"","labsa-position":"right","labsa-width":e.data.formAttrMap.labelWidth||"90px"}},[e._l(e.data.formItemMap,(function(t,n){return[a("el-form-item",{key:n,attrs:{label:t.label}},["select"===t.type?a("el-select",{attrs:{size:e.size},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})})),1):"date"===t.type?a("el-date-picker",{attrs:{size:e.size,type:t.dateType||"datetimerange","range-separator":"至","default-time":["00:00:00","23:59:59"],format:"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):a("el-input",{attrs:{size:e.size},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)]})),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",size:e.size},on:{click:e.onSearch}},[e._v(" 查询 ")]),a("el-button",{attrs:{size:e.size},on:{click:e.onReset}},[e._v(" 重置 ")])],1)],2):e._e()},k=[],w={props:{data:{type:Object,default:null},size:{type:String,default:"mini"}},data:function(){return{}},created:function(){},mounted:function(){},methods:{onSearch:function(){this.$emit("onSearch")},onReset:function(){this.$emit("onReset")}}},x=w,S=Object(u["a"])(x,y,k,!1,null,"61ffee63",null),O=S.exports,T={components:{JsonForm:O},props:{query:{type:Object,default:function(){return{}}},maxHeight:{type:Number,default:null},url:{type:String,default:null},columns:{type:Array,default:function(){return[]}},formConfig:{type:Object,default:null},beforeSelect:{type:Function,default:null},initData:{type:Object,default:null}},data:function(){return{tableLoading:!1,tableData:[],total:0,formParams:{},page:{pageNum:1,pageSize:10}}},created:function(){this.init()},beforeDestroy:function(){this.clearFormData()},methods:{init:function(){this.getData()},getData:function(){var e=this;if(!this.url)return console.error("comTable url is empty"),!1;this.tableLoading=!0;var t=Object.assign({},this.page,this.query,this.formParams);console.dir(t),D.post(this.url,t).then((function(t){t=t||{},e.total=t.total||0,e.tableData=t.list||[]})).finally((function(){e.tableLoading=!1}))},handleSizeChange:function(){this.getData()},handleCurrentChange:function(){this.getData()},onSelect:function(e){if(this.beforeSelect&&!this.beforeSelect(e))return!1;this.$emit("onChange",e)},onSearch:function(){var e=this.formConfig.formItemMap;if(e){var t,a={};Object.keys(e).forEach((function(n){t=e[n],"date"===n&&t.value&&t.value.length>0?(a.startTime=t.value[0].getTime(),a.endTime=t.value[1].getTime()):a[n]=t.value||""})),this.formParams=a}this.pageNum=1,this.getData()},onReset:function(){this.clearFormData(),this.pageNum=1,this.getData()},clearFormData:function(){var e=this.formConfig.formItemMap;e&&Object.keys(e).forEach((function(t){e[t].value=null})),this.formParams={}},disabledRow:function(e){var t=this.initData;return t&&t.id===e.id}}},L=T,E=(a("cc1d"),Object(u["a"])(L,v,_,!1,null,"d91bd626",null)),I=E.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"formRef",attrs:{inline:"",model:e.formData,rules:e.formRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"小程序的APPID",prop:"appId"}},[a("el-input",{staticClass:"form-item-width",attrs:{placeholder:"请输入小程序的APPID",size:"mini"},on:{change:e.onDataChange},model:{value:e.formData.appId,callback:function(t){e.$set(e.formData,"appId","string"===typeof t?t.trim():t)},expression:"formData.appId"}}),a("span",[e._v("（示例：wxe5f52902cf4de896）")])],1),a("el-form-item",{attrs:{label:"跳转页面的url地址",prop:"redirectOuterUrl"}},[a("el-input",{staticClass:"form-item-width",attrs:{placeholder:"请输入跳转页面的url地址",size:"mini"},on:{change:e.onDataChange},model:{value:e.formData.redirectOuterUrl,callback:function(t){e.$set(e.formData,"redirectOuterUrl","string"===typeof t?t.trim():t)},expression:"formData.redirectOuterUrl"}})],1)],1)},$=[],j={props:{clickType:Number},beforeDestroy:function(){this.eventBus.$off("setData_".concat(this.clickType),this.setData)},mounted:function(){this.eventBus.$on("setData_".concat(this.clickType),this.setData)},methods:{clearData:function(){var e=this.$refs["formRef"];e.resetFields(),this.$nextTick((function(){e.clearValidate()}))},setData:function(e){var t=e&&Object.keys(e).length>0;t?this.formData=e:this.clearData()},onDataChange:function(e){var t=this;this.$refs["formRef"].validate((function(e){t.hasError=!e,e&&t.$emit("onChange",Object.assign({},t.formData))}))}}},A={appId:null,redirectOuterUrl:null},N={mixins:[j],props:{visible:Boolean,initData:{type:Object,default:null}},data:function(){return{hasError:!1,formData:Object(h["a"])({},A),formRules:{appId:[{required:!0,message:"请输入小程序的APPID",trigger:["change"]}],redirectOuterUrl:[{required:!0,message:"请输入跳转页面的url地址",trigger:["change"]}]}}},watch:{visible:function(e){!e&&this.hasError&&this.clearData()}},created:function(){if(this.initData){var e=this.initData,t=e.appId,a=e.redirectOuterUrl;this.formData.redirectOuterUrl=a,this.formData.appId=t}}},z=N,M=(a("96ea"),Object(u["a"])(z,P,$,!1,null,"29e558c4",null)),R=M.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"formRef",attrs:{inline:"",model:e.formData,rules:e.formRules}},[a("el-form-item",{attrs:{label:"内部url地址",prop:"redirectUrl"}},[a("el-input",{staticClass:"form-item-width",staticStyle:{width:"350px"},attrs:{placeholder:"请输入url地址",size:"mini"},on:{change:e.onDataChange},model:{value:e.formData.redirectUrl,callback:function(t){e.$set(e.formData,"redirectUrl","string"===typeof t?t.trim():t)},expression:"formData.redirectUrl"}}),a("span",[e._v("（示例：pages/user/mycar/index）")])],1)],1)},G=[],F={redirectUrl:null},U={mixins:[j],props:{visible:Boolean,initData:{type:Object,default:null}},data:function(){return{formData:Object(h["a"])({},F),formRules:{redirectUrl:[{required:!0,message:"请输入url地址",trigger:["change"]},{pattern:/^pages/,message:"请输入正确的url地址",trigger:["change"]}]}}},watch:{visible:function(e){!e&&this.hasError&&this.clearData()}},created:function(){this.initData&&(this.formData.redirectUrl=this.initData.redirectUrl)}},V=U,H=Object(u["a"])(V,B,G,!1,null,null,null),q=H.exports,J=a("d3e8"),W=[{clickType:1,label:"商品",component:"com-table",url:J["productListApi"],linkTextAttr:"name",query:{jvStatus:1,skuType:0,status:1},saveKeys:["id","name"],columns:[{label:"商品编码",key:"jvCode"},{label:"商品名称",key:"name"},{label:"品牌",key:"brand"}],formConfig:{formAttrMap:{labelWidth:"110px"},formItemMap:{jvCode:{label:"编码",placeholder:"请输入编码名称",value:null},name:{label:"名称",placeholder:"请输入商品名称",value:null},brand:{label:"品牌",placeholder:"请输入品牌名称",value:null}}}},{clickType:2,label:"跳转内部url",linkTextAttr:"redirectUrl",component:"inner-url"},{clickType:3,label:"跳转外部url",linkTextAttr:"redirectOuterUrl",component:"outer-url"}],X=Object(b["a"])(W),K=X[0];K.init=!0;var Q={clickType:K.clickType,data:null},Y={name:"ConfigLink",components:{ComTable:I,OuterUrl:R,InnerUrl:q},props:{value:Boolean,linkObj:{type:Object,default:function(){return Object(h["a"])({},Q)}}},data:function(){return{dialogVisible:!1,tabVisible:!0,tabConfig:W,activeName:null,currentData:Object(h["a"])({},Q)}},computed:{linkText:function(){if(!this.linkObj)return"";var e=this.linkObj,t=e.clickType,a=e.data,n=a&&Object.keys(a).length>0;if(t&&n){var i=W.filter((function(e){return t===e.clickType})),o="";if(i.length>0){var r=10===t?a.orderService[i[0].linkTextAttr]:a[i[0].linkTextAttr];o=i[0].label+" | "+r}return o}return""}},methods:{onDialogOpen:function(){this.setInitData(),this.tabVisible=!0},cloneObj:function(e){return JSON.parse(JSON.stringify(e))},setInitData:function(){var e=this.linkObj&&Object.keys(this.linkObj).length>0,t=e?this.cloneObj(this.linkObj):this.cloneObj(Q),a=this.tabConfig.filter((function(e){return e.clickType===t.clickType})),n=a&&a.length>0?a[0]:this.tabConfig[0];n.init=!0,this.activeName=t.clickType.toString(),this.currentData=t,console.log("this.currentData",this.currentData)},onChange:function(e,t){var a=this.currentData.clickType;a!==t&&this.eventBus.$emit("setData_".concat(a),null),this.currentData={clickType:t,data:e}},onTabClick:function(){var e=this,t=this.tabConfig.filter((function(t){return t.clickType===+e.activeName}));t&&t.length>0&&(t[0].init=!0)},openDialog:function(){this.dialogVisible=!0},onclose:function(){this.tabVisible=!1,this.resetInitStatus()},resetInitStatus:function(){var e=this;this.tabConfig.forEach((function(t){t.clickType!==+e.activeName&&(t.init=!1)}))},onConfirm:function(){var e=this.formatData(this.currentData);console.log("data",e),this.$emit("onConfirm",e),this.$emit("update:linkObj",e),this.dialogVisible=!1},formatData:function(e){var t=this,a=this.tabConfig.filter((function(e){return e.clickType===+t.activeName}))[0];if(a.saveKeys&&e.data){var n={};return a.saveKeys.forEach((function(t){n[t]=e.data[t]})),e.data=n,e}return e},onRemoveData:function(){this.currentData=Object(h["a"])({},Q),this.$emit("update:linkObj",this.currentData)}}},Z=Y,ee=(a("7cc6"),Object(u["a"])(Z,m,g,!1,null,"055d147d",null)),te=ee.exports,ae={name:"PicList",components:{draggable:r.a,UpLoadBox:s["a"],ButtonAdd:f,ConfigLink:te},props:{imageList:{type:Array,default:null},inputPlaceHolder:{type:String,default:""},addPlaceHolder:{type:String,default:"添加广告图"},showPic:{type:Boolean,default:!0},showName:{type:Boolean,default:!0},showAdd:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},unGraggable:{type:Boolean,default:!1},limitSize:{type:Number,default:10}},data:function(){return{picData:JSON.parse(JSON.stringify(this.imageList)),currentItem:""}},watch:{picData:{handler:function(e,t){console.log("图片列表配置修改",e),this.$emit("update:imageList",e)},deep:!0}},methods:{addItem:function(){if(this.limitSize&&this.picData.length>=this.limitSize)this.$message.warning("最多添加".concat(this.limitSize,"条数据"));else if(this.showPic)this.showDialogImage(),this.currentItem="";else{var e={link:null,imageUrl:"",text:""};this.picData.push(e)}},editPic:function(e){this.showDialogImage(),this.currentItem=e},deleteItem:function(e){this.picData.splice(e,1)},showDialogImage:function(){this.$store.commit("SET_UPIMAGE_VISIBLE",!0),this.$store.commit("SET_UPIMAGE_FUC",this.upLoadImgSuccess)},upLoadImgSuccess:function(e){if(this.currentItem)this.currentItem.imageUrl=e;else{var t={link:null,imageUrl:e,text:""};this.picData.push(t)}}}},ne=ae,ie=(a("3bbea"),Object(u["a"])(ne,n,i,!1,null,"59260e90",null));t["a"]=ie.exports},fe6f:function(e,t,a){},ffc1:function(e,t,a){var n={"./AssistLine/index.vue":"2ee3","./Carousel/index.vue":"371a","./ImageNav/index.vue":"e598","./OnlineService/index.vue":"f378","./Product/index.vue":"7fa2","./RichText/index.vue":"7686","./Video/index.vue":"bec4"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="ffc1"}});
//# sourceMappingURL=app.77baad9a.js.map